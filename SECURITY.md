# セキュリティガイドライン

## 🛡️ 実装済みセキュリティ対策

### フロントエンド
- **CSPヘッダー**: XSS攻撃を防ぐコンテンツセキュリティポリシー
- **セキュリティヘッダー**: X-Frame-Options, X-Content-Type-Options等
- **入力値サニタイゼーション**: 全ユーザー入力の無害化処理
- **HTTPS強制**: 本番環境での暗号化通信強制

### バックエンド（Supabase）
- **Row Level Security (RLS)**: 全テーブルでユーザー分離
- **認証システム**: Supabase Auth使用
- **環境変数保護**: 機密情報の外部化

## 🔧 デプロイ前の設定

### 1. 環境変数の設定
```bash
# .envファイルを作成（.env.exampleを参考）
cp .env.example .env

# 実際の値を設定
REACT_APP_SUPABASE_URL=https://your-project.supabase.co
REACT_APP_SUPABASE_ANON_KEY=your-anon-key
```

### 2. Vercelでの環境変数設定
- Vercelダッシュボードで環境変数を設定
- 本番用とプレビュー用で分離

### 3. Supabaseの設定確認
- RLSが有効化されていることを確認
- アクセスポリシーが適切に設定されていることを確認

## ⚠️ セキュリティチェックリスト

### デプロイ前
- [ ] .envファイルがGitに含まれていない
- [ ] 環境変数がVercelに設定済み
- [ ] CSPヘッダーが設定済み
- [ ] HTTPS強制が有効

### 定期確認
- [ ] Supabaseのアクセスログ確認
- [ ] 不審なアクセスパターンの監視
- [ ] 依存関係の脆弱性スキャン

## 🚨 インシデント対応

### データ漏洩の疑いがある場合
1. Supabaseのアクセスログを確認
2. 影響範囲の特定
3. ユーザーへの通知
4. 対策の実施

### 不正アクセスの検知
1. アクセスパターンの分析
2. IP制限の検討
3. 認証強化の実装

## 📞 連絡先
セキュリティに関する問題は以下まで：
- Email: campingcartraveltips@gmail.com
- 緊急時: 即座にSupabaseプロジェクトを一時停止

## 📋 更新履歴
- 2025-08-03: 初回セキュリティ対策実装
- 2025-08-03: CSP, セキュリティヘッダー追加
- 2025-08-03: 入力値サニタイゼーション強化